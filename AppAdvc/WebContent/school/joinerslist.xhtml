<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
   <f:metadata>
   
	<f:event type="preRenderView" 
		listener="#{logincontroller.isSchool}"/> 
		
		
		  	<f:event type="preRenderView" 
		listener="#{logincontroller.isLogin}"/> 
		
		<f:event type="preRenderView" listener="#{schoolcontroller.loadjoiners(schoolcontroller.id)}"/> 
	</f:metadata>
	
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<h:outputStylesheet library="css_cos" name="style.css"/>
	<h:outputStylesheet library="bootstrap" name="bootstrap.css"/>
	

	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.1/css/responsive.dataTables.min.css"></link>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
	 </link>
	 	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css">
	 </link>

	

	<title>JCH | Joiner Details</title>
	
	
	
		<style>
				.dataTables_wrapper .dt-buttons {
		                float:none;  
		                text-align:center;
		                }
		
		</style>
</h:head>





<h:body>
	<ui:include src="/templates/school_navbar.xhtml" />
<div class="container">
     	<br/><br/>
		<div class="col-md-4 log">
			  <h3>Number of Joiners: #{schoolcontroller.bootcampinfo[0]} </h3>	
		</div>
		<div class="col-md-4 log">
			 <h3>Number of Paid Joiners: #{schoolcontroller.bootcampinfo[2]}</h3>	
		</div>
		<div class="col-md-4 log">
			 <h3>Number of Pending Joiners: #{schoolcontroller.bootcampinfo[1]}</h3>
		</div>
	
	<br/>
	<hr/>

				<h:dataTable value="#{schoolcontroller.bootcampjoiners}" var="tempaccount" id="example" class="display nowrap" style="width:100%">    
					
					<h:column>
						
					</h:column>
					<h:column>
						<!-- column header -->
						<f:facet name="header">Full Name </f:facet>
							
						<!-- Display actual value of the column -->
						#{tempaccount.firstname} #{tempaccount.middlename},#{tempaccount.lastname}
					</h:column>
					
					
					<h:column>
						<!-- column header -->
						<f:facet name="header">	Email</f:facet>
						
						<!-- Display actual value of the column -->
						#{tempaccount.email}
					</h:column>
					
					<h:column>
						<!-- column header -->
						<f:facet name="header">	Telephone Number</f:facet>
						
						<!-- Display actual value of the column -->
						#{tempaccount.telNo}
					</h:column>
					
					<h:column>
						<!-- column header -->
						<f:facet name="header">	Cellphone Number</f:facet>
						
						<!-- Display actual value of the column -->
						#{tempaccount.celNo}
					</h:column>
				
					
					<h:column>
						<!-- column header -->
						<f:facet name="header">Enrollment Status</f:facet>
						
						<!-- Display actual value of the column -->
						#{tempaccount.enrollmentStatus}
				
						
					</h:column>
					
			
					
						<h:column>
							<!-- column header -->
						<f:facet name="header">Action</f:facet>
				
					
						<h:form>		
							
							 <h:commandLink value="Update Status" 
							onclick="if (!confirm('Are you sure you dant to Update the status of this Joiner?')) return false"
							action ="#{schoolcontroller.statuspdate(tempaccount.accountID)}"/>	
							
							
							<h:commandLink value="Delete" 
							onclick="if (!confirm('Are you sure you want to delete this Joiner?')) return false"
							action ="#{schoolcontroller.deleteajoiner(tempaccount.accountID)}"/>
										
							
							</h:form>
							
						</h:column>
					
					
					
					
					
				</h:dataTable>
			
				 <h:form>	
				 <div class="pull-right">
				 	    <h:commandButton  value="Go Back to List" class="btn btn-info"
						action ="#{schoolcontroller.navigate}"/>
				 </div>						
				</h:form>
					
			</div>

			
	<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
	 <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js"></script>
					 
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js"></script>
	
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.print.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.colVis.min.js"></script>

			    <script type="text/javascript" class="init">
			     $(document).ready(function() {
			        $('#example').DataTable( {
			        	
			        	  dom: 'Blfrtip',
			              buttons: [
			                  'copyHtml5',
			                  'excelHtml5',
			                  'csvHtml5',
			                  'pdfHtml5',
			                  {
			                       extend: 'print',
			                       exportOptions: {
			                       columns: [1, 2, 3, 4,5] //Your Colume value those you want
			                           }
			                         },
			                  
			              ],
			        	
			            responsive: {
			                details: {
			                    type: 'column', 
			                    target: 'tr'
			                }
			            },
			            columnDefs: [ {
			                className: 'control',
			                orderable: false,
			                targets:   0
			            } ],
			            order: [ 1, 'asc' ]
			        } );
			    } );
			 
			    </script>
			    
			    
</h:body>

</html>


